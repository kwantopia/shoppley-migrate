== Download ==

Prerequisites: Python 2.7

# Install latest virtualenv
$ sudo pip install virtualenv
$ sudo pip install virtualenvwrapper

# On Mac you need to softlink virtualenv under Python.framework/Versions/2.7/bin/ to /opt/local/bin/virtualenv

# For Linux create a virtual environment environment
# home directory for you virtual environments, I just named it virtual 
$ mkdir /home/virtual
# For MAC (if you develop in workspace directory use below, if you develop
# on Documents directory use the second line
$ mkdir ~/workspace/virtual 
$ mkdir ~/Documents/virtual

# For MAC with macports: 
$ /opt/local/bin/virtualenv-2.7 shoppley-env 
# For Linux DEV or DEPLOYMENT
$ /usr/local/bin/virtualenv shoppley-env

# For MAC
$ source ~/Document/virtual/shoppley-env/bin/activate
# For DEV or DEPLOYMENT
$ source /home/virtual/shoppley-env/bin/activate

# DEPLOYMENT: go to where you have checked out the shoppley code
$ cd /home/www/shoppley.com/shoppley 
# DEV SERVER
$ cd /home/www/webuy.mit.edu/shoppley 

# install requirements
$ pip install Django (will install 1.3 the latest)
$ pip install Pinax (will install the latest 0.9)
$ cd <shoppley project dir>
$ pip install -r requirements.txt

== DEV server only ==
# If you are on dev server create a softlink to easily access the project
# from your home directory after logging in

ln -s /home/www/webuy.mit.edu/shoppley shoppley

== patches ==

# patches account/openid_consumer.py PinaxConsumer to have a __name__ attribute
# patches profiles and microblogging apps in pinax to take e-mail as part of url

$ cd patches
# modify patch.sh to point to your PINAX_HOME, where the virtual environment ofor shoppley-env is installed 
$ vi patch.sh
$ ./patch.sh

== external packaage ==

You need to download blueprint css

$ sudo port install git-core
$ cd packages
$ ./download.sh

== syncdb ==

$ python manage.py syncdb

If models have changed we need to delete dev.db and syncdb

== test data ==

# Updated by Meng
python manage.py test_init

#################################
# Deprecated
We can run "python manage.py shell"

>> run apps/shoppleyuser/tests.py

>> s = SimpleTest()
>> s.setUp()

to prepopulate with a merchant (user: kool2@mit.edu, pw: hello) and customer (user: kool@mit.edu, pw: hello).

Add more test data generation in apps/shoppleyuser/tests.py "setUp" method
# Deprecated
##################################

== DEV server Only ==
cp dev_settings.py.sample local_settings.py


== DEPLOYMENT server Only ==

source /home/virtual/shoppley-env/bin/activate
cd /home/www/shoppley.com/shoppley
# this django command is used to assemble static files (part of django 1.3)
python manage.py collectstatic 
cp local_settings.py.sample local_settings.py


##### Update: 6/13/2011 -- Kwan
# New django-mailer 0.2.0 need to be installed manually using git
$ cd packages
$ ./download.sh
# softlink to mailer is added under apps directory to make it accessible
